<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja" >
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="keywords" content="DBFlute,Eclipse" />
	<style type="text/css" title="currentStyle">@import "../../../../../../css/sub.css";</style>
	<title>Eclipseのおすすめワークスペース設定 | DBFlute</title>
</head>
<body>
<div id="container" class="ct-manual">
<div id="mainbar"><div id="header">
	<a href="#">DBFlute<span>DB変更に強いO/Rマッパー</span></a>
	<img src="../../../../../../image/logo-content.gif" alt="logo"/>
	<ul>
		<li class="hd-introduction"><a href="#">Introduction</a></li>
		<li class="hd-tutorial"><a href="#">Tutorial</a></li>
		<li><ul><li class="hd-architect"><a href="#">for Architect</a></li><li class="hd-developer"><a href="#">for Developer</a></li></ul></li>
		<li class="hd-environment"><a href="#">Environment</a></li>
		<li><ul><li class="hd-install"><a href="#">Install</a></li><li class="hd-upgrade"><a href="#">Upgrade</a></li></ul></li>
		<li class="hd-manual"><a href="#">Manual</a></li>
	</ul>
</div>

<div id="content"><!-- __content-start__ -->
	<h1>Eclipseのおすすめワークスペース設定</h1>
	<p>
		jfluteおすすめの <em class="keyword">新しいワークスペース作ったらやっておこう設定</em> を紹介します。
	</p>
	<div class="relatedpage"><a href="../index.html">Friends - Eclipse</a></div>
	<div class="relatedpage"><a href="./workproj.html">Eclipseのワークスペースとプロジェクト</a></div>
	${indexlist}

	<h2 id="preferences">Preferencesの開き方</h2>
	<p>
		ワークスペース設定は、<em class="mark">Preferences</em> という名前で設定画面が用意されています。
	</p>
	<p>
		Preferencesの設定画面は、以下の方法で開くことができます。
	</p>
	<dl class="valuemainlist">
		<dt>Macなら</dt><dd><em class="keyword">command+,(カンマ)</em> <span class="frm">(メニューの Eclipse - 環境設定... と同じ)</span></dd>
		<dt>Windowsなら</dt><dd>メニューの Window - Preferences</dd>
	</dl>
	<div class="relatedpage"><a href="../shortcut/operationcut.html#setting">Eclipse, 操作系ショートカット - 設定周り</a></div>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-Preferences-dialog-example.png" title="Eclipse Preferences dialog example"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-Preferences-dialog-example.png" alt="Eclipse Preferences dialog example" width="550" height="440" /></a>
	</p>
	<p>
		<span class="frm">※ただし、ワークスペース設定として扱われても、Preferences以外の画面で設定するものもあります。</span>
	</p>

	<h2 id="templates">補完テンプレートを入れる</h2>
	<p>
		Eclipseには、Javaエディター上のコード補完をカスタマイズする機能が備わっています。
	</p>
<pre><span class="codetitle">e.g. 標準のifnullの補完テンプレート @Java</span><code>
String sea = ...
<span class="literal">ifnu...</span> <span class="comment">// control+space, enter</span>
　↓↓↓
<span class="keyword">if</span> (sea == <span class="keyword">null</span>) {
    
}
</code></pre>
	<p>
		スムーズな実装のためにDBFluteオリジナルの補完テンプレートを提供しています。
		DBFlute実装だけじゃなく純粋にJava実装のためのテンプレートも用意されているので、ぜひ活用しましょう。
	</p>
	<div class="relatedpage"><a href="../../../../../tutorial/eclipse/dfclipsecomp.html">DBFluteのEclipseコード補完</a></div>
<pre><span class="codetitle">e.g. DBFluteオリジナルの_llの補完テンプレート、Lambda式の入力支援 _ll (あんすこえるえる) @Java</span><code>
<span class="attribute">memberBhv</span>.selectList(<span class="literal">_ll</span>) <span class="comment">// control+space, enter</span>
　↓↓↓
<span class="attribute">memberBhv</span>.selectList([var] -&gt; {
    [var].[object]
})
</code></pre>
	<h3 id="preparetemplatexml">補完テンプレートファイルの準備</h3>
	<p>
		「こちらのDBFluteの補完テンプレートを入れてください」と明示的に指定されている場合は、そちらの補完テンプレートファイルを使いましょう。
		例えば、LastaFluteのプロジェクトなら補完テンプレートファイルがアプリ内に置いてあります。<span class="frm">(その開発プロジェクトで独自に拡張されているかもしれませんので)</span>
	</p>
	<div class="relatedpage"><a href="../../../../../lastaflute/tutorial/eclipse/laclipsecomp.html#setuptemplate">LastaFluteのEclipseコード補完 - 補完テンプレートの環境構築</a></div>
	<p>
		そういった指定が特にない...もしくは「よくわからない」なら、以下からテンプレートファイルをダウンロードして、Importのまるごと入れ替え方式で設定しましょう。
	</p>
	<p>
		<em class="mark"><a href="http://dbflute.seasar.org/download/misc/settings/whole-eclipse-editor-templates.zip">whole-eclipse-editor-templates.zip</a></em>
	</p>
	<div class="relatedpage"><a href="../coding/templates.html#importwhole">エディターテンプレート - Importのまるごと入れ替え方式</a></div>
	<h3 id="importtemplatexml">Importのまるごと入れ替え方式での設定</h3>
	<p>
		まず、メニューの Preferences の <em class="keyword">Java - Editor - Templates</em> で設定画面を開きます。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-EditorTemplates-settings-example.png" title="Eclipse EditorTemplates Settings Example"><img src="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-EditorTemplates-settings-example.png" alt="Eclipse EditorTemplates Settings Example" width="550" height="350" /></a>
	</p>
	<p>
		既存のテンプレートを何か一つ選択して、(Macなら)command+A で全選択します<span class="frm">(全選択できればやり方は何でもOK)</span>。
		そして、全選択した状態で Remove を押すと既存のテンプレートがすべて消えるので、その状態で Import... を押して、ファイル選択ダイアログでimport対象のxmlファイルを選択します。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-EditorTemplates-settings-import-whole.png" title="Eclipse EditorTemplates Settings Import Whole"><img src="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-EditorTemplates-settings-import-whole.png" alt="Eclipse EditorTemplates Settings Import Whole" width="550" height="320" /></a>
	</p>
	<p>
		期待されているテンプレートが設定されたことを確認して Apply すれば完了です。試しに近くのクラスで補完をしてみましょう。
	</p>
	<p>
		入れ替え方式なので、最新版の補完テンプレートに更新する場合も手順は同じです。
	</p>

	<h2 id="typefilters">使わないクラスをコード補完から除外する</h2>
	<p>
		コード補完時に、java.util.List を補完しようとしてるのに毎度毎度 "java.awt.Listとどっちを選ぶ？"
		と聞かれたりします。特に多くのライブラリを使っているとたくさん選択肢が出てきて思考の妨げにもなります。
		Type Filters で使わないクラスを設定して補完ノイズを減らしましょう。
	</p>
	<div class="relatedpage"><a href="../coding/typefilters.html#recommended">Eclipseのノイズ減らし Type Filters - オススメ</a></div>
	<p>
		Preferences の <em class="keyword">Java - Appearance - Type Filters</em> を選択。
	</p>
	<p>
		Add を押して、クラス型の補完で "表示させたくない" パッケージやクラスを指定します。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-TypeFilters-settings-add.png" title="Eclipse TypeFilters Settings Add"><img src="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-TypeFilters-settings-add.png" alt="Eclipse TypeFilters Settings Add" width="520" height="240" /></a>
	</p>
	<p>
		とりあえず以下を設定しておくだけでも、だいぶノイズが減りますので入れておきましょう。
	</p>
	<dl class="keymainlist">
		<dt>java.awt.*</dt><dd>awtパッケージを使うことは今の開発ではまずない</dd>
		<dt>com.sun.*</dt><dd>sunパッケージのクラスを使うことはほとんどない</dd>
		<dt>sun.*</dt><dd>sunパッケージが意外と紛らわしい!?</dd>
		<dt>java.lang.StringBuffer</dt><dd>文字列連結を同期化する必要性はほぼなく、StringBuilderで十分</dd>
		<dt>java.sql.Date</dt><dd>業務のプログラムでjava.sql.Dateを使うことはまずない</dd>
	</dl>

	<h2 id="closetfile">.(ドット)始まりのファイルの表示</h2>
	<p>
		.project や .settingsディレクトリなどは、デフォルトではPackage Explorer上に表示されません。
		ですが、それらは開発者にとって重要なファイルでもありますので、常に表示すると良いでしょう。
	</p>
	<div class="relatedpage"><a href="../operation/closetfile.html#seedotbeginning">隠しファイルの設定 - .(ドット)始まりのファイルの表示</a></div>
<pre><span class="codetitle">e.g. .(ドット)始まりのファイルたち @Java</span><code>
PROJECT_ROOT
 |-src/main/java
 |-src/main/resources
 |-...
 |-<span class="subpoint">.settings</span> <span class="comment">// これらがデフォルトでは表示されない...けど大事</span>
 |-<span class="subpoint">.gitignore</span> <span class="comment">// .gitignoreなんかは時々手で修正することもある</span>
 |-<span class="subpoint">.project</span>
</code></pre>
	<p>
		まず、Package Explorerの右上の「白下三角」のマークをクリックしてメニューを出して、Filters... を選択します。
		<span class="frm">(Eclipseのバージョンによっては、マークが縦の点点点になっているかもです)</span>
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ClosetFile-settings-filters.png" title="Eclipse ClosetFile settings filters"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ClosetFile-settings-filters.png" alt="Eclipse ClosetFile settings filters" width="520" height="280" /></a>
	</p>
	<p>
		Java Element Filtersダイアログが表示されるので、「*. resources」のチェックを外します。隠すのを止める (フィルターを止める) ということです。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ClosetFile-settings-remove-dotfilter.png" title="Eclipse ClosetFile settings remove dotfilter"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ClosetFile-settings-remove-dotfilter.png" alt="Eclipse ClosetFile settings remove dotfilter" width="520" height="280" /></a>
	</p>

	<h2 id="contentassist">メソッド補完は引数名の列挙で</h2>
	<p>
		メソッドを補完したとき、メソッド引数部分の表現に２つ選択肢があります。
	</p>
	<p><!-- quick empty line --></p>
	<dl class="shortkeymainlist">
		<dt>推測値の自動指定</dt><dd>"型が同じ変数" や "戻り値の型が同じメソッド" が自動的に指定される ↓</dd>
	</dl>
<pre><span class="codetitle">e.g. 推測値の自動指定 @Java</span><code>
sea.han <span class="comment">// ここでhangar(Integer, String, AnyBean)を補完すると...</span>
　↓↓↓
<span class="comment">// 型が同じ変数、戻り値の型が同じメソッド、一致するものがなければnull</span>
sea.hangar(<span class="subpoint">showbaseNumber</span>, <span class="subpoint">getXxxString()</span>, <span class="subpoint">null</span>);
</code></pre>
	<p><!-- quick empty line --></p>
	<dl class="shortkeymainlist">
		<dt>引数名の列挙</dt><dd>単純にメソッドの引数名が列挙される ↓</dd>
	</dl>
<pre><span class="codetitle">e.g. 引数名の列挙 @Java</span><code>
sea.han <span class="comment">// ここでhangar(Integer, String, AnyBean)を補完すると...</span>
　↓↓↓
<span class="comment">// シンプルに引数名が列挙される</span>
sea.hangar(<span class="subpoint">stageNumber</span>, <span class="subpoint">areaName</span>, <span class="subpoint">anyBean</span>);
</code></pre>
	<p>
		デフォルトでは推測値の自動指定になっています。
		型ですべて解決するような実装スタイルなら良いですが、やはりStringやIntegerなどが混ざる世界で推測されると誤った引数指定を起こしがちです。
		<span class="frm">(実際のレビューで、本人の意図していない変数指定やメソッド呼び出しなどのミスをよく見かけます。危ない...)</span>
	</p>
	<p>
		引数名が列挙される方が間違いが少なく、引数仕様をその場で理解できるのでオススメです。
	</p>
	<p>
		Preferences の <em class="keyword">Java - Editor - Content Assist</em> にて、<em class="mark">Insert parameter names</em>
		の方を選択しましょう。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-ContentAssist-settings-insert-parameter-names.png" title="Eclipse ContentAssist settings insert-parameter-names"><img src="../../../../../data/model/friends/eclipse/coding/friends-Eclipse-ContentAssist-settings-insert-parameter-names.png" alt="Eclipse ContentAssist settings insert-parameter-names" width="520" height="360" /></a>
	</p>
	<p>
		<span class="frm">※ただ、推測値を管理できていて好きな方は別にそのままで</span>
	</p>

	<h2 id="pkgpresent">パッケージの見た目を階層構造へ</h2>
	<p>
		Package Explorer上のパッケージ表現がデフォルトでフラットになりますが、特に大きなプロジェクトになると細かいパッケージがズラッとたくさん並んでしまい、逆に探しづらくなってしまいます。
	</p>
	<p>
		特にDBFluteを使っている場合は自動生成クラスがたくさんのパッケージを使っているので、階層構造に変更すると良いでしょう。
	</p>
	<div class="relatedpage"><a href="../operation/pkgpresent.html#behierarchical">パッケージ見た目表現 - 階層構造に変更する</a></div>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-PackagePresentation-flat-to-hierarchical.png" title="Eclipse PackagePresentation flat to hierarchical"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-PackagePresentation-flat-to-hierarchical.png" alt="Eclipse PackagePresentation flat to hierarchical" width="520" height="280" /></a>
	</p>
	<p>
		Package Explorerの右上の「白下三角」のマークをクリックしてメニュー (View Menu) を出して...
		<span class="frm">(Eclipseのバージョンによっては、マークが縦の点点点になっているかもです)</span>
	</p>
	<p>
		Package Presentation の Hierarchical を選択します。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-PackagePresentation-settings-hierarchical.png" title="Eclipse PackagePresentation settings hierarchical"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-PackagePresentation-settings-hierarchical.png" alt="Eclipse PackagePresentation settings hierarchical" width="520" height="280" /></a>
	</p>
	<p>
		<span class="frm">※ただ、フラットに慣れていて好きな方は別にそのままで</span>
	</p>

	<h2 id="findreplace">Find/Replace は Case sensitive, Incremental に</h2>
	<p>
		command+F の Find/Replace (開いているファイルのテキストを検索) は、デフォルトでは大文字小文字を区別しません。
		Javaなど大文字小文字を区別するプログラミング言語を扱っている場合、大文字小文字を意識して検索・置換したいことが多いので、<em class="mark">Case sensitive</em> にチェックを付けておくと良いでしょう。
		<span class="frm">(特に、文字列置換に関しては、大文字小文字で事故も起きやすいので気を付けましょう)</span>
	</p>
	<div class="relatedpage"><a href="../operation/findreplace.html#casesensitive">Find/Replace - 大文字小文字を区別、Case sensitiveに</a></div>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-FindReplace-settings-casesensitive.png" title="Eclipse FindReplace settings case-sensitive"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-FindReplace-settings-casesensitive.png" alt="Eclipse FindReplace settings case-sensitive" width="520" height="300" /></a>
	</p>
	<p>
		また、<em class="mark">Incremental</em> にチェックを付けておくと、検索文字列を入力しながら検索できると打ち間違いとかもすぐにわかるので便利です。
	</p>
	<div class="relatedpage"><a href="../operation/findreplace.html#incremental">Find/Replace - 入力しながら検索、Incrementalに</a></div>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-FindReplace-settings-incremental.png" title="Eclipse FindReplace settings incremental"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-FindReplace-settings-incremental.png" alt="Eclipse FindReplace settings incremental" width="520" height="300" /></a>
	</p>

	<h2 id="console">コンソールのバッファサイズをデカく</h2>
	<p>
		開発中はアプリのログを主にコンソールで見ることになるでしょう。
	</p>
	<p>
		「動きがおかしい、ログを見よう、もっと前の操作でどんな挙動してたか？エラーや警告とか出てなかったか？スクロールして上の方に.....もう切れちゃってるー（＞＜」
	</p>
	<p>
		コンソールに表示される文字量の限界が、意外にデフォルトだと少ないです<span class="frm">(メモリ対策？)</span>。切れて見えないのでは全く意味がないので、デカくしましょう。
	</p>
	<p>
		Preferences の <em class="keyword">Run/Debug - Console</em> にて、<em class="keyword">Console buffer size</em> に 0 (ぜろ) を一つ追加しましょう。
		<span class="frm">(8万を80万に)</span>
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-Console-settings-buffer-size-large.png" title="Eclipse Console settings buffer-size large"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-Console-settings-buffer-size-large.png" alt="Eclipse Console settings buffer-size large" width="530" height="420" /></a>
	</p>
	<p>
		リミットがあるようなので、まあ80万くらいで十分です。<span class="frm">(雑に決めてます)</span>
	</p>

	<h2 id="viewlocation">fast view使ってコードの縦表示を長く</h2>
	<p>
		デフォルトだと、Problemsなどの View が下に配置されていて、コードエリアが短くなっています。プログラムは縦に積み重なっていくものなので、できるだけ縦の領域を稼ぎたいです。
		なので、Fast View を使うと良いでしょう。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ViewLocation-short-codearea-so-fastview.png" title="Eclipse ViewLocation short code-area so fast-view"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ViewLocation-short-codearea-so-fastview.png" alt="Eclipse ViewLocation short code-area so fast-view" width="530" height="350" /></a>
	</p>
	<p>
		Viewは必要なときに登場しますし、見たいViewのアイコンをクリックすればいつでも見られます。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ViewLocation-long-codearea-by-fastview.png" title="Eclipse ViewLocation long code-area by fast-view"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-ViewLocation-long-codearea-by-fastview.png" alt="Eclipse ViewLocation long code-area by fast-view" width="550" height="340" /></a>
	</p>
	<p>
		このような感じでViewの配置は簡単にカスタマイズできます。
	</p>

	<h2 id="editorbgcolor">エディターの背景色を設定して気持ちよく</h2>
	<p>
		好きな色で実装するのが一番です。
	</p>
	<p>
		Preferences の <em class="keyword">General - Editors - Text Editors</em> にて、<em class="keyword">background color</em> を選択して <em class="keyword">Color</em> を指定しましょう。
	</p>
	<p class="imgbox">
		<a href="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-TextEditor-settings-background-color.png" title="Eclipse TextEditor settings background-color"><img src="../../../../../data/model/friends/eclipse/operation/friends-Eclipse-TextEditor-settings-background-color.png" alt="Eclipse TextEditor settings background-color" width="550" height="380" /></a>
	</p>
	<p>
		<span class="frm">※文字が見えづらくならない色にしましょう。</span>
	</p>

	<div class="inucolumn">
		<h2 id="routinework">これ毎回やるのか？</h2>
		<p>
			って思いますよね。ぜひやってください。
			まあワークスペースを新しく作るのって年に何度もあるようなものでもないので、そのときこのページを思い出して頂ければと。
		</p>
		<p>
			ちなみに、jfluteはMacBook内にEclipseのワークスペースが二桁を超えるほどあります。
			結構な頻度で新規ワークスペース作るので、みなさんに「やってください」と言いつつ自分でやるのはちょっとしんどいなと...m(_ _)m
		</p>
		<p>
			本ページに書いてあることだけじゃなく、Keys設定とかもっともっとたくさんあるんです。
		</p>
		<div class="relatedpage"><a href="../shortcut/keys.html#jflutekeys">jfluteなEclipseショートカットキー</a></div>
		<p>
			一応、Preferences の Export の機能があります。Packaeg Explorer上の適当ところで右クリック Export...
			で選択できます。ただ、出力範囲が決まっているようで(?)、本当に隅々まで引き継げるかどうかはわかりません。
			<span class="frm">(あまり検証していません)</span>
		</p>
		<p>
			なので、ちょっと裏技をやっています。
		</p>
		<ol>
			<li>cp -R [既存workspace]/.metadata [新規workspace]/.metadata</li>
			<li>新規workspaceでEclipseを起動</li>
			<li>(この時点では、起動workspaceは新規でも、プロジェクトが既存workspaceのものを参照している)</li>
			<li>Package Explorer上のプロジェクトをすべて論理削除 <span class="frm">(物理削除だと既存側が削除されちゃう)</span></li>
			<li>Preferences の Team - Git の Default repository folder を新規workspaceに変更</li>
			<li>エディター背景色も引き継がれるので見分けるために変える</li>
			<li>これで完全に引き継ぎOK (のはず)</li>
		</ol>
		<p>
			操作を一つ間違えると既存workspaceが壊れて大混乱するので真似しないでください。
		</p>
	</div>
<!-- __content-end__ --></div></div>

<div id="sidebar">
	<ul>
		<li><a href="#">inu</a></li>
		<li><a href="#">neko</a></li>
	</ul>
</div>
<div id="footer">
	<ul>
		<li><a href="#">SiteMap</a></li>
		<li><a href="https://www.seasar.org/issues/browse/DBFLUTE">BTS</a></li>
		<li><a href="http://d.hatena.ne.jp/jflute">Author's Blog</a></li>
	</ul>
</div>
</div>
</body>
</html>