<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja" >
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="keywords" content="DBFlute,チュートリアル,ハンズオン,hands-on" />
	<style type="text/css" title="currentStyle">@import "../../../css/sub.css";</style>
	<title>ハンズオンセクション 1 | DBFlute</title>
</head>
<body>
<div id="container" class="ct-manual">
<div id="mainbar"><div id="header">
	<a href="#">DBFlute<span>DB変更に強いO/Rマッパー</span></a>
	<img src="../../../../image/logo-content.gif" alt="logo"/>
	<ul>
		<li class="hd-introduction"><a href="#">Introduction</a></li>
		<li class="hd-tutorial"><a href="#">Tutorial</a></li>
		<li><ul><li class="hd-architect"><a href="#">for Architect</a></li><li class="hd-developer"><a href="#">for Developer</a></li></ul></li>
		<li class="hd-environment"><a href="#">Environment</a></li>
		<li><ul><li class="hd-install"><a href="#">Install</a></li><li class="hd-upgrade"><a href="#">Upgrade</a></li></ul></li>
		<li class="hd-manual"><a href="#">Manual</a></li>
	</ul>
</div>

<div id="content"><!-- __content-start__ -->
	<h1>ハンズオンセクション 1</h1>
	${indexlist}

	<h2 id="overview">概要</h2>
	<p>
		まずは <em class="smallmark">環境構築</em>、そして、<em class="smallmark">DBFluteのセットアップから自動生成まで</em> を体験してみましょう。
	</p>
	<p>
		<span class="frm">※環境構築やセットアップも、ハンズオンの一部です。くれぐれも油断なきよう...</span>
	</p>

	<h2 id="preread">まず読みましょう</h2>
	<h3 id="aboutdbflute">DBFluteのこと</h3>
	<p>
		DBFluteのことをざっくり押さえておきましょう。
	</p>
	<dl class="longkeymainlist">
		<dt><a href="http://dbflute.seasar.org/ja/introduction/index.html">DBFluteの紹介 | DBFlute</a></dt><dd>DBFluteオフィシャルの紹介ページ</dd>
		<dt><a href="https://speakerdeck.com/jflute/dbflute-bridges-between-db-and-app">架け橋DBFlute | SpeakerDeck</a></dt><dd>講演会でのスライド資料</dd>
	</dl>
	<h3 id="jflutereview">jfluteによるレビューのこと</h3>
	<p>
		jfluteにレビューしてもらう方は、こちらを必ず読んでおいてください。
	</p>
	<div class="detailpage"><a href="./review/jflutereview.html">ハンズオンのjfluteレビュー</a></div>

	<h2 id="firstenv">前提環境</h2>
	<h3 id="jdk">JDKのインストール <span class="frm">(もし、なければ)</span></h3>
	<p>
		Java8以上の JDK をインストールしてください。
		Javaの開発をするには、JRE (実行環境) ではなく JDK (開発環境) が必要です。
	</p>
	<h3 id="maven">Mavenのインストール <span class="frm">(もし、なければ)</span></h3>
	<p>
		Maven をインストールしてください。コマンドラインで mvn が利用できる状態にしましょう。
	</p>
	<p>
		DBFluteハンズオンでは、Eclipseを使う場合に maven-eclipse-plugin を使って連携することを想定してます。
		勉強のためにあえてシンプルなやり方を採用しています。IntelliJなら...不要かもしれません。
	</p>
	<h3 id="ide">IDE, Eclipse/IntelliJの用意</h3>
	<p>
		Eclipseの場合、エディションは Eclipse IDE for Java Developers がオススメです。
	</p>
	<p>
		IntelliJの場合、特にオススメのエディションはありません。
	</p>

	<h2 id="prepare">環境準備</h2>
	<h3 id="workspace">workspaceの作成</h3>
	<p>
		新規でworkspaceディレクトリを任意の場所に作成してください。
		<span class="frm">(後にgit cloneする場所です)</span>
	</p>
	<p>
		場所は任意ではありますが、「どこにcloneしたか忘れてしまった」にならないようにしましょう。
	</p>
<pre><span class="codetitle">e.g. DBFluteハンズオン用のworkspaceディレクトリ @Directory</span><code>
~/works
    |-dbflute
       |-eclipse-dbflute
       |-workspace  <span class="comment">// 例えばここ</span>
</code></pre>
	<p>
		(Eclipseの方は) Eclipseを起動するときにそのworkspaceディレクトリを選んでください。
		起動直後に別のワークスペースが開いてしまう場合は、メニューの "File" - "Switch Workspace" からワークスペースを切り替えてください。
	</p>
	<h3 id="cloneimport">プロジェクトのcloneとimport</h3>
	<h4 id="gitclone">workspace に git clone</h4>
	<p>
		先ほど作った workspaceディレクトリ配下に git clone しましょう。
	</p>
	<dl class="longvaluemainlist">
		<dt>GITリポジトリ</dt><dd>https://github.com/dbflute-session/dbflute-hands-on.git</dd>
		<dt>プロジェクト</dt><dd>dbflute-hands-on</dd>
	</dl>
	<p>
		【注意】もし社内でDBFluteハンズオン用の "gitリポジトリ" が用意されている場合は、そちらを利用してください。
		<span class="frm">(用意されているかどうかわからない場合は、近くの人に聞いてみてください)</span>
	</p>
	<p>
		もしGit操作がよくわからない方で、Eclipseを使っている方は、参考になるドキュメントがあります。
	</p>
	<div class="relatedpage"><a href="../../manual/topic/friends/eclipse/operation/git/egitclone.html">Eclipseでgit clone</a></div>
	<h4 id="ideimport">IDE にて import</h4>
	<p>
		そして、EclipseやIntelliJなどで、プロジェクトとしてimport (open) しましょう。
	</p>
	<p>
		(Eclipseの方は) メニューの File - Import... から Existing Projects into Workspace で clone したディレクトリを指定すればOKです。 
		<span class="frm">(.projectがすでにgitにコミットされている状態なので)</span>
	</p>
	<p>
		(IntelliJの方は) ImportよりもOpenの方が良いかと思います。IntelliJのバージョンにも寄るかもですが、Importだとハンズオンで用意している.ideaディレクトリが上書きされてしまうかもしれません。
		<span class="frm">(でも、Importでやってしまった場合は、.ideaディレクトリの上書きされたファイルをgitから復元すれば大丈夫です)</span>
	</p>
	<h3 id="mysql">MySQLのセットアップ</h3>
	<p>
		ハンズオンでは、3306ポートのMySQLではなく、専用のMySQLインスタンスを起動して利用します。
		なので、すでに (3306ポートの) MySQL をインストールされている方も、セットアップが必要です。
	</p>
	<h4>ダウンロードと配置</h4>
	<p>
		MySQLのオフィシャルサイトからローカル環境に対応する MySQL のインストーラー無し版(ZIPアーカイブ版など)をダウンロードし、localdb/mysql に配置します。
		<span class="frm">(以下の配置であれば、MySQL本体は Git のコミット対象になりません。gitignore に登録されています。間違っても MySQL 本体を Git にコミットしないように)</span>
	</p>
	<div class="detailpage"><a href="http://dev.mysql.com/downloads/mysql/">Official Site - MySQL Download</a></div>
<pre><span class="codetitle">e.g. MySQLの配置場所 @Directory</span><code>
PROJECT_ROOT
 |-<span class="abbreviation">...</span>
 |-localdb
 |  |-<span class="point">mysql</span>
 |     |-bin
 |     |-data
 |     |-docs
 |     |-<span class="abbreviation">...</span>
 |-script
 |-tutorial
</code></pre>
	<h4>Mac でも Windows でも、初期化の手続きを</h4>
	<p>
		<em class="keyword">起動する前に</em> MySQL を初期化してあげる必要があります。
	</p>
	<dl class="shortkeymainlist">
		<dt>MySQL-8.0</dt><dd>mysqld で初期化コマンド叩く  <span class="frm">※Mac/Windows両方で必要</span></dd>
	</dl>
	<p>
		MySQL-8.0 での初期化コマンドは、mysqlディレクトリにて以下を叩きます。
		<span class="frm">(dataディレクトリが作成され、rootのパスワードが空っぽになります)</span>
	</p>
<pre><span class="codetitle">Macのときの MySQL-8.0 での初期化コマンド @Command</span><code>
./bin/mysqld --defaults-file=../my.cnf --datadir=./data --basedir=./ --initialize-insecure
</code></pre>
	<h4>MySQLを起動してみましょう</h4>
	<p>
		そして、<em class="smallmark">localdb/boot-mysql.bat|sh</em> を実行し、MySQL を起動してください。
	</p>
	<p>
		さらに、login-mysql-root.bat|sh を実行し、MySQLのコマンドコンソールにて "show databases;" と打って enter
		して、作成されているデータベースは特にないこと(デフォルトのデータベースだけが存在)を確認してください。 
	</p>
	<p>
		今後、ハンズオンを中断する場合は、localdb/close-mysql.bat|sh
		を実行し、MySQLをシャットダウンし、そして、またハンズオンを再開するときは、boot-mysql.bat|sh を実行してください。
		<span class="frm">(Windowsであれば、Eclipse上からbatファイルをダブルクリックで実行できます: ctrl+shift+Rで実行でもOKです)</span>
	</p>
	<h3 id="eclipseplugin">Eclipseプラグインのセットアップ <span class="frm">(if Eclipse)</span></h3>
	<p>
		(Eclipseの方は) 以下のEclipseプラグインをそれぞれインストールしてください。
	</p>
	<div class="relatedpage"><a href="../../manual/topic/friends/eclipse/plugins/index.html#pluginstall">Eclipseプラグインのインストール</a></div>
	<dl class="textlist">
		<dt>EMecha</dt>
		<dd>
			DBFluteライフを支援するプラグイン
		</dd>
		<dd>
			以下から DBFlute-EMecha.zip を解凍し、Eclipse の dropinsディレクトリ配下に配置します。
			<a href="https://github.com/dbflute-emecha/dbflute-emecha-eclipse/releases">https://github.com/dbflute-emecha/dbflute-emecha-eclipse/releases</a>
			<div class="relatedpage"><a href="../../manual/function/helper/emecha/index.html">EMechaプラグイン</a></div>
		</dd>
		<dt>Quick JUnit</dt>
		<dd>JUnitを使う際のちょっとした便利プラグイン</dd>
		<dd>
			Help - Eclipse Marketplace...から Quick JUnit を検索してインストールします。
		</dd>
	</dl>

	<h2 id="project">プロジェクトのセットアップ</h2>
	<h3 id="makepomxml">pom.xmlの作成</h3>
	<p>
		Maven の設定ファイルである pom.xml を作成します。
	</p>
	<div class="relatedpage"><a href="../../manual/topic/friends/maven/index.html#mavenrole">Maven補足資料 - Mavenの役割</a></div>
	<p>
		さすがに0から作るのは大変なので、ハンズオンでひな形を用意しています。
		<em class="smallmark">tutorial/material/eclipse/prototype-pom.xml</em> をコピーして、dbflute-hands-onプロジェクト直下に <em class="mark">pom.xml</em>
		という名前で配置しましょう。
	</p>
	<p>
		pom.xmlを中身を軽く覗いてみましょう。ハンズオンに限らず自分が開発するプロジェクトにどのような依存ライブラリがあるのか把握しておくのは大切です。
	</p>
	<h3 id="makeproject">プロジェクトの作成</h3>
	<h4>Eclipse なら</h4>
	<p>
		(Eclipseの方は) scriptディレクトリ配下の <em class="smallmark">maven-eclipse.bat|sh</em> を実行し、コンソールのログを見て正常終了が確認できたらEclipse上でプロジェクトをリフレッシュ(F5)してください。
	</p>
	<p>
		<span class="frm">※ちなみに、この時点では maven-eclipse.bat|sh の "call dbflute_maihamadb/manage.bat refresh"
		において、そんなコマンドはないとエラーが発生しますが、Mavenのコマンドさえ成功していればOKです。</span>
	</p>
	<p>
		すると、MavenとEclipseを連携させるためのファイル(.project, .classpath)が自動生成され、Eclipseがコンパイルし始めます。
		そのプロジェクトが Maven 管理された Java プロジェクトになり、既に存在している UnitContainerTestCase がコンパイルエラーになるはずです。<span class="frm">(コンパイルエラーで正常です)</span>
	</p>
	<h4>IntelliJ なら</h4>
	<p>
		(IntelliJの方は) pom.xmlを指定してMavenプロジェクトとしてimportしてください。
	</p>
	<h3 id="workprojdiff">ワークスペース設定とプロジェクト設定 <span class="frm">(if Eclipse)</span></h3>
	<p>
		(Eclipseの方は) ワークスペース設定とプロジェクト設定の違いを理解しておいてください。
	</p>
	<dl class="valuemainlist">
		<dt>読み物エクササイズ</dt><dd><a href="../../manual/topic/friends/eclipse/environment/workproj.html">Eclipseのワークスペースとプロジェクト</a></dd>
	</dl>
	<p>
		DBFluteハンズオンでは、IDE設定もエクササイズのひとつです。自分で別の環境を作るときには必要ですから、内容を把握しながら設定していきましょう。
	</p>
	<h3 id="recomwork">ハンズオンのワークスペース設定 <span class="frm">(if Eclipse)</span></h3>
	<p>
		(Eclipseの方は) 以下のページのおすすめワークスペース設定を反映していってください。
	</p>
	<dl class="valuemainlist">
		<dt>設定エクササイズ</dt><dd><a href="../../manual/topic/friends/eclipse/environment/recomwork.html">Eclipseのおすすめワークスペース設定</a></dd>
	</dl>
	<p>
		少々手間がありますが、Eclipseの環境構築の勉強と思いながら設定してましょう。
		特にDBFluteの補完テンプレートとパッケージの見た目表現は、DBFluteを使うときの重要な設定となります。
	</p>
	<p>
		これを設定することで、DBFluteの補完テンプレートが入ります。後の実装で使っていきましょう。
	</p>
	<div class="relatedpage"><a href="../eclipse/dfclipsecomp.html">DBFluteのEclipseコード補完</a></div>
	<h3 id="recomwork">ハンズオンのプロジェクト設定 <span class="frm">(if Eclipse)</span></h3>
	<p>
		(Eclipseの方は) 以下のページのおすすめプロジェクト設定を反映していってください。<br>
	</p>
	<dl class="valuemainlist">
		<dt>設定エクササイズ</dt><dd><a href="../../manual/topic/friends/eclipse/environment/recomproj.html">Eclipseのおすすめプロジェクト設定</a></dd>
	</dl>
	<p>
		DBFluteハンズオンをgitにコミットして共有される方は、レビューワーの環境でも同じ挙動になるようにするために、.settingsディレクトリも忘れずにコミットしましょう
	</p>
	<h3 id="intellijlive">IntelliJでも補完テンプレート <span class="frm">(if IntelliJ)</span></h3>
	<p>
		IntelliJでもDBFluteの補完テンプレートが用意されています。これを設定しておいてください。
	</p>
	<dl class="valuemainlist">
		<dt>設定エクササイズ</dt><dd><a href="../../manual/topic/friends/intellij/index.html#dbflutelivetemplate">IntelliJ - DBFlute な Live Template</a></dd>
	</dl>
	<h3 id="ideashared">.ideaディレクトリでの設定共有は？ <span class="frm">(if IntelliJ)</span></h3>
	<p>
		(IntelliJの方は) DBFluteハンズオンで用意されている .ideaディレクトリを把握しておいてください。
	</p>
	<dl class="valuemainlist">
		<dt>読み物エクササイズ</dt><dd><a href="../../manual/topic/friends/intellij/index.html">Friends - IntelliJ</a></dd>
	</dl>
	<p>
		.idea ディレクトリの中にワークスペースの設定とプロジェクトの設定が混在しています。
		ハンズオンでは、DBFluteを使う際に設定されておいたほうが良い IntelliJ のオプションがすでにコミットされていて有効になっています。
		<span class="frm">(なので読むだけですが、知っておくことは大事です)</span>
	</p>

	<h2 id="dfsetup">DBFluteのセットアップ</h2>
	<h3 id="dfclient6">DBFluteクライアントの作成 <span class="frm">※Java6, 7</span></h3>
	<p>
		Java6,7の方は、別ページにて
	</p>
	<div class="detailpage"><a href="./java67/sec1java67.html">Java6,7のセクション1切り出し</a></div>
	<h3 id="dfclient8">DBFluteクライアントの作成 <span class="frm">※Java8</span></h3>
	<p>
		DBFlute Maven Plugin <span class="frm">(ハンズオンのpom.xmlですでに定義済み)</span> を使って、インストールします。
	</p>
	<div class="relatedpage"><a href="../../environment/setup/maven.html">Mavenによるセットアップ</a></div>
	<p>
		まずは、コマンドラインで <em class="mark">dbflute:download</em> ゴールを叩きます。<span class="frm">(プロジェクト直下にて)</span>
	</p>
<pre><span class="codetitle">e.g. dbflute:download ゴールを叩く！ @Command</span><code>
<span class="abbreviation">...</span>$ <span class="keyword">mvn</span> -e dbflute:download
</code></pre>
	<p>
		その後、コマンドラインで <em class="mark">dbflute:create-client</em> ゴールを叩きます。
	</p>
<pre><span class="codetitle">e.g. dbflute:create-client ゴールを叩く！ @Command</span><code>
<span class="abbreviation">...</span>$ <span class="keyword">mvn</span> -e dbflute:create-client
</code></pre>
	<h3 id="adjustdfprop">DBFluteプロパティ(dfprop)の調整</h3>
	<p>
		<em class="mark">basicInfoMap.dfprop</em> のプロパティ値を修正します。<em class="keyword">(忘れずに)</em>
	</p>
	<dl class="valuemainlist">
		<dt>database</dt><dd>mysql</dd>
		<dt>targetContainer</dt><dd>lasta_di</dd>
	</dl>
	<p>
		<em class="mark">databaseInfoMap.dfprop</em> のプロパティ値を修正します。<em class="keyword">(忘れずに)</em>
	</p>
	<dl class="valuemainlist">
		<dt>driver</dt><dd>com.mysql.jdbc.Driver</dd>
		<dt>url</dt><dd>jdbc:mysql://localhost:43376/maihamadb?allowPublicKeyRetrieval=true&sslMode=DISABLED</dd>
		<dt>schema</dt><dd>※空っぽ</dd>
		<dt>user</dt><dd>maihamadb</dd>
		<dt>password</dt><dd>maihamadb</dd>
	</dl>
	<p>
		urlプロパティが長いですが、"jdbc:" から "sslMode=DISABLED" まで、改行空白の無いひとつの値です。
		ここでは、localhostの43376ポートのmaihamadbデータベース(スキーマ)にSSL接続OFFで接続しようとしています。
	</p>
	<div class="relatedpage"><a href="../../manual/reference/dfprop/databaseinfo/index.html#url">databaseInfoMap - url (*)</a></div>
	<h4>MySQL-8.0.17以降の予約語対応</h4>
	<p>
		MySQL-8.0.17より MEMBER が予約語となりましたので、(該当バージョンであれば)その対応を入れます。
		<em class="mark">littleAdjustmentMap.dfprop</em> のプロパティ値を修正します。<em class="keyword">(忘れずに)</em>
	</p>
<pre><span class="codetitle">e.g. quoteTableNameList の設定 @littleAdjustmentMap.dfprop</span><code>
    <span class="abbreviation">...</span>

    <span class="comment"># /- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    # o quoteTableNameList: (NotRequired - Default list:{})
    #  The list of table DB names that need to be quoted. Specified tables is quoted on auto-generated SQL.
    #</span>
    ; quoteTableNameList = <span class="keyword">list:</span>{ <span class="literal">MEMBER</span> }
    <span class="comment"># - - - - - - - - - -/</span>

    <span class="abbreviation">...</span>
</code></pre>
	<p>
		これにより、DBFluteが管理しているSQLにて、MEMBERがエスケープされるようになります。
	</p>
	<h3 id="replaceschema">ReplaceSchemaの実行</h3>
	<p>
		アプリユーザとスキーマ(テーブル構造を含む)を作成するために、ReplaceSchemaを利用します。
	</p>
	<div class="relatedpage"><a href="../../manual/function/generator/task/replaceschema/index.html">ReplaceSchema</a></div>
	<h4>DBユーザ自動作成のための設定</h4>
	<p>
		[DBFluteクライアント]/dfprop配下の <em class="mark">replaceSchemaMap.dfprop</em> の additionalUserMap プロパティを以下のように設定してください。コメントアウトされた雛形があるので、そのコメントアウトを外して修正しましょう。
		これは、システムユーザによるアプリユーザ、スキーマの作成を自動化するための準備です。
	</p>
	<div class="relatedpage"><a href="../../manual/function/generator/task/replaceschema/systemuser.html">システムユーザによる実行</a></div>
<pre><span class="codetitle">e.g. additionalUserMap の設定 @replaceSchemaMap.dfprop</span><code>
    <span class="abbreviation">...</span>

    <span class="comment"># /- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    # o additionalUserMap: (NotRequired - Default map:{})
    #  You can set additional users.
    #  Elements of this map are as below:
    #   o key of map: User Definition Name (userDefName)
    #   o url: (NotRequired - Default same as one of main schema)
    #   o schema: (NotRequired - Default treated as no schema setting)
    #   o user: (Required)
    #   o password: password plainly or path to password file (with default password)
    #       e.g. foo or df:dfprop/system-password.txt|foo
    #       (NotRequired - Default '')
    #   o isSkipIfNotFoundPasswordFileAndDefault: Does it skip the user SQL statement
    #       when using password file but not found it and also default password?
    #       (NotRequired - Default false)
    #</span>
    ; additionalUserMap = <span class="keyword">map:</span>{
        ; system = <span class="keyword">map:</span>{
            ; url = <span class="literal">jdbc:mysql://localhost:43376?allowPublicKeyRetrieval=true&sslMode=DISABLED</span>
            ; user = <span class="literal">root</span>
            ; password = <span class="literal">df:dfprop/system-password.txt|</span>
        }
    }
    <span class="comment"># - - - - - - - - - -/</span>

    <span class="abbreviation">...</span>
</code></pre>
	<p>
		password に "df:dfprop/system-password.txt" と "|" を加えることで、
		rootのパスワードは以下のようなルールで決定されます。
	</p>
	<dl class="keymainlist">
		<dt>パスワードファイルがあれば</dt><dd>パスワードファイルの中のパスワードが有効</dd>
		<dt>パスワードファイルがなければ</dt><dd>「|」より右側の文字列がパスワード (この場合は「空パスワード」)</dd>
	</dl>
	<p>
		ハンズオンの MySQL は、rootのパスワードが "空" であることを想定しているので、特にパスワードファイルを作成する必要はありません。
		もし違う場合は、パスワードファイルを作成してください。
	</p>
	<h4>DBユーザ、テーブル作成DDLの配置</h4>
	<p>
		<em class="smallmark">tutorial/material/dbflute/playsql-createschema-ddl-1st.zip</em> を解凍して、<em class="smallmark">replace-schema-00-system.sql</em> と
		<em class="smallmark">replace-schema-10-basic.sql</em> を、以下のようにDBFluteクライアントの playsql 配下に配置してください。
		デフォルトで配置されている空っぽのreplace-schema.sqlは削除してください。
	</p>
<pre><span class="codetitle">e.g. CreateSchema用のDDLの配置場所 @Directory</span><code>
PROJECT_ROOT
 |-<span class="abbreviation">...</span>
 |-dbflute_maihamadb
 |  |-dfprop
 |  |-<span class="abbreviation">...</span>
 |  |-playsql
 |  |  |-<span class="point">replace-schema-00-system.sql</span>
 |  |  |-<span class="point">replace-schema-10-basic.sql</span>
 <span class="abbreviation">...</span>
</code></pre>
	<p>
		これにて、システムユーザの権限を利用してアプリユーザと Example の DB (MaihamaDBと呼ばれる) のテーブル作成の準備が整いました。
		<span class="frm">(後の演習のために、この時点では明らかにおかしいカラム名などERDと若干の違いがあります)</span>
	</p>
	<div class="relatedpage"><a href="../../manual/reference/example/maihamadb.html">MaihamaDB</a></div>
	<h4>ReplaceSchemaを叩く！</h4>
	<p>
		DBFluteタスクである、ReplaceSchemaタスクを実行してください。
	</p>
	<p>
		Windows の Eclipse であれば、"リソースの検索" <em class="keyword">(ctrl + shift + R)</em> で
		"manage.bat" を検索してそのまま実行、メニューが出ますので 0 番 (replace-schema) を押して Enter すればOKです。
		<span class="frm">(Macの人はターミナルから manage.sh を...)</span>
	</p>
	<div class="relatedpage"><a href="../../manual/function/generator/task/index.html">DBFluteタスク</a></div>
	<div class="relatedpage"><a href="../../manual/function/generator/task/replaceschema/index.html">ReplaceSchemaタスク</a></div>
	<p>
		コンソールのログを見て、正常終了していることを確認してください。
		DBFluteタスクのログファイルである、DBFluteクライアント/log/dbflute.log でも確認することができます。
	</p>
	<p>
		ハンズオンをどこかの Git で管理する場合は、logファイルを .gitignore に登録しておきましょう。
		<span>(logディレクトリに.gitignoreファイルを作成し、*.logと指定しておくでOKです)</span>
	</p>
	<p>
		再度、MySQLにログインし、maihamadb データベースが作られていることを確認してください。
	</p>
	<h3 id="jdbc">JDBCタスクの実行</h3>
	<p>
		まず、DBFluteクライアントの schema 配下には、readme しかないことを確認してください。
	</p>
	<p>
		DBFluteタスクである、JDBCタスク (manage.bat|sh で21番) を実行してください。実行の仕方は、ReplaceSchemaを実行したときと同じで、
		manage.bat|sh はいつでも気軽に叩けるようにしておきましょう。
	</p>
	<div class="relatedpage"><a href="../../manual/function/generator/task/index.html">DBFluteタスク</a></div>
	<div class="relatedpage"><a href="../../manual/function/generator/task/jdbc/index.html">JDBCタスク</a></div>
	<p>
		DBFluteクライアントの schema 配下に、テーブル構造の情報(スキーマのメタデータ)が XML 形式で出力されているはずです<span class="frm">(Eclipse上で確認するなら、プロジェクトのリフレッシュが必要)</span>。
	</p>
	<h3 id="doc">Docタスクの実行</h3>
	<p>
		まず、DBFluteクライアントの output/doc 配下には、readme しかないことを確認してください。
	</p>
	<div class="relatedpage"><a href="../../manual/function/generator/task/doc/index.html">Docタスク</a></div>
	<p>
		Docタスク (manage.bat|sh で22番) を実行してください。DBFluteクライアントの output/doc 配下に、テーブル構造の情報(スキーマのメタデータ)が HTML
		形式で出力されているはずです。
	</p>
	<h3 id="generate">Generateタスクの実行</h3>
	<p>
		まず、src/main/java 配下には、何もクラスがないことを確認してください。
	</p>
	<div class="relatedpage"><a href="../../manual/function/generator/task/generate/index.html">Generateタスク</a></div>
	<p>
		そして、Generateタスク (manage.bat|sh で23番) を実行してください。DBFluteタスクが正常終了していれば、src/main/java 配下にテーブル対応のクラスが自動生成されるはずです。
		コンパイルが正常に通っていることを確認してください。
	</p>
	<p>
		<span class="frm">(...コンパイル確認中)</span>
	</p>
	<p>
		もし、コンパイルエラーであれば、DBFluteエンジンとDBFluteランタイムのバージョンを確認してみてください。
		自動生成されたクラスとDBFluteランタイムのjarファイルのバージョンは一致していなければなりません。
		食い違っていれば、DBFluteランタイムのバージョンを修正して合わせましょう。
	</p>
	<p>
		これで本当にコンパイルエラーなくなれば、セクション１はおしまいです！
	</p>
	<p>
		そういえば、先ほど Package Presentation (if Eclipse) がよくわからなかった人は、ここで Hierarchical に変更してみましょう。
		src/main/java配下の表現の仕方がガラリと変わるはずです。
	</p>
	<div class="relatedpage"><a href="#hierarchical">this - Package Presentation を Hierarchical に</a></div>

	<div class="inucolumn">
		<h2 id="devtu">ディベロッパーのためのチュートリアル</h2>
		<p>
			さあ、ディベロッパーのためのチュートリアルをブックマークしましょう！
		</p>
		<div class="detailpage"><a href="../../tutorial/developer.html">ディベロッパーのためのチュートリアル</a></div>
		<p>
			今後、何かとこのページを見ることになるかと思います。
			DBFluteのさまざまなページを辿ることができるエントリページになっています。
			まずは一度さらっと読んでみて、"ここにこういうことが書いてあるんだ"
			となんとなく理解してみて、そして、このあと困ったことがあったら、このページを開いて情報を探していくとよいでしょう。
		</p>
	</div>
	
	<div class="inucolumn">
		<h2 id="reviewflute">jfluteのレビューポイント</h2>
		<p>
			以下、改めてチェックしてみてください。
		</p>
		<ul>
			<li>Encodingや改行コードの設定、プロジェクトの設定に入ってますか？ <span class="frm">(if Eclipse)</span></li>
			<li>フォーマッターや自動化の設定、プロジェクトの入ってますか？ <span class="frm">(if Eclipse)</span></li>
			<li>DBFluteクライアントのlogの ".log" ファイルたちは gitignore になってますか？</li>
			<li>そもそもコンパイルは通ってますか？ <span class="frm">(エラーになってないですか？)</span></li>
		</ul>
		<p>
			<em class="keyword">環境構築のような作業を抜けなくできる</em> というのも、重宝されるスキルです。
		</p>
	</div>
	
	<h2 id="nextsection">次のセクション</h2>
	<p>
		さて、次のセクションへ
	</p>
	<div class="detailpage"><a href="./section02.html">ハンズオン セクション 02</a></div>
<!-- __content-end__ --></div></div>

<div id="sidebar">
	<ul>
		<li><a href="#">inu</a></li>
		<li><a href="#">neko</a></li>
	</ul>
</div>
<div id="footer">
	<ul>
		<li><a href="#">SiteMap</a></li>
		<li><a href="https://www.seasar.org/issues/browse/DBFLUTE">BTS</a></li>
		<li><a href="http://d.hatena.ne.jp/jflute">Author's Blog</a></li>
	</ul>
</div>
</div>
</body>
</html>